<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignIn</title>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.5.0/mdb.min.css" rel="stylesheet" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.5.0/mdb.min.js"></script>
    <link href="css/index.css" rel="stylesheet" />
    
</head>

<body class="d-flex justify-content-center p-5">



            <div class="card">
                <div class="card-header">
                    <center>
                        <h3>Login Form</h3>
                    </center>
                </div>
                <form id="loginForm" class="card-body px-5 py-4">
                    <small> <span id="error" style="color:red"></span></small>
                    <label class="custom-field">
                        <input id="email" type="text" class="input" required />
                        <span class="placeholder">Email Id</span>
                    </label><br />
                    <label class="custom-field">
                        <input id="password" type="password" class="input" required />
                        <span class="placeholder">Password</span>
                    </label><br /><br />
                    <a href="#" id="forgotpassword_link">Forgot Password?</a>
                    <center><button id="login_button" class="btn btn-primary">Login</button>
                        <button id="signup_button" class="btn btn-secondary">Sign Up </button>
                    </center>
                </form>
            </div>
       
    <!-- <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-auth.js"></script>

          <script src="firebase.js"></script>
          <script src="index.js"></script> -->


    <script type="module">

        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-analytics.js";
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-auth.js"

        const firebaseConfig = {
    apiKey: "AIzaSyC3wHr3LtGi24MIqOomDPtp51MFOVgfhpU",
    authDomain: "waveecast-9bd9e.firebaseapp.com",
    databaseURL: "https://waveecast-9bd9e-default-rtdb.firebaseio.com",
    projectId: "waveecast-9bd9e",
    storageBucket: "waveecast-9bd9e.appspot.com",
    messagingSenderId: "771404223766",
    appId: "1:771404223766:web:1f379287ff76a14977ac37",
    measurementId: "G-MQQGQ5EM4G"
  };
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);

        document.getElementById("loginForm").addEventListener("submit", (event) => {
            event.preventDefault()
        })
        auth.onAuthStateChanged((user) => {
            if (user) {
                location.replace("main.html")
            }
        })
        function login() {
            const email = document.getElementById("email").value
            const password = document.getElementById("password").value
            signInWithEmailAndPassword(auth, email, password)
                .catch((error) => {
                    document.getElementById("error").innerHTML = error.message

                })
        }
        function signup() {
            const email = document.getElementById("email").value
            const password = document.getElementById("password").value
            createUserWithEmailAndPassword(auth, email, password)
                .catch((error) => {
                    document.getElementById("error").innerHTML = error.message

                });
        }
        function forgotpassword() {
            const email = document.getElementById("email").value

            sendPasswordResetEmail(auth, email)
                .then(() => {
                    alert("Reset link sent to your email id")
                })
                .catch((error) => {
                    document.getElementById("error").innerHTML = error.message

                })
        }
        var login_button = document.getElementById("login_button")
        login_button.addEventListener("click", () => { login() })
        var signup_button = document.getElementById("signup_button")
        signup_button.addEventListener("click", () => { signup() })
        var forgotpassword_link = document.getElementById("forgotpassword_link")
        forgotpassword_link.addEventListener("click", () => { forgotpassword() })
    </script>

</body>

</html>